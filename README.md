# hadoop_spark_project

Репозиторий содержит spark_app, обучающий gbt классификатор для предсказания отмены бронирования отеля. 

Было проведено несколько запусков spark app с разными настройками. Для оптимизации использовалось репартицирование и кэширование dataframe. При значительном увеличении числа партиций результат ухудшался. Кэширование производилось перед перебором гиперпараметров. Были получены следующие результаты:

5 запусков без кэширования, 3 data nodes: 10, 8.2, 8.6, 9.3, 9.5

5 запусков с кэшированием, 3 data nodes: 7.4, 9.4, 7.9, 7.8, 7.2

5 запусков без кэширования, 1 data node: 8.8, 6.9, 6.6, 6.7, 7.5

5 запусков с кэшированием, 1 data node: 7.4, 7.1, 6.6, 6.5, 6.9

Результаты систематизированы в таблице

| Time (min)       | Data nodes           | Optimization  |
| ------------- |:-------------:| -----:|
| 7,3     | 1 | no |
| 6,9     | 1      |   yes |
| 9,12 | 3      |    no |
| 7,94 | 3      |    yes |

Использование RAM практически не отличалось в каждом случае и сотавляло 5.25 GB

![RAM](https://github.com/vfliagin/hadoop_spark_project/blob/main/ram_usage.jpg?raw=true)
